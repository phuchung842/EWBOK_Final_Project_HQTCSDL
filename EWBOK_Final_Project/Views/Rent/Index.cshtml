@model List<Model.EF.Rent>
@using Model.sp_Models;
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var listdetailofrent = (List<sp_ShowListProductRent>)ViewBag.ListDetailOfRent;
}

<section id="aa-catg-head-banner">
    <img src="~/Content/client/img/slide/book_heart_page_shadow_light_25736_1920x1080.jpg" width="1920" height="300" />
    <div class="aa-catg-head-banner-area">
        <div class="container">
            <div class="aa-catg-head-banner-content">
                <h2>Thông tin sách đang thuê</h2>
                <ol class="breadcrumb">
                    <li><a href="/Home">Trang chủ</a></li>
                    <li class="active">Thông tin sách đang thuê</li>
                </ol>
            </div>
        </div>
    </div>
</section>
<section id="aa-product-category">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-md-push-0">
                <br />
                <label><h3></h3></label>
                @if (Model.Count > 0)
                {
                    <div class="table-responsive">
                        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                            <thead>
                                <tr>
                                    <td><strong>Ngày thuê</strong></td>
                                    <td><strong>Mã lượt thuê</strong></td>
                                    <td><strong>Tổng tiền thuê</strong></td>
                                    <td><strong>Tổng tiền đặt cọc</strong></td>
                                    <td><strong>Tổng tiền phạt</strong></td>
                                    <td><strong>Chức năng</strong></td>
                                </tr>
                            </thead>
                            <tfoot>
                                <tr>
                                    <td><strong>Ngày thuê</strong></td>
                                    <td><strong>Mã lượt thuê</strong></td>
                                    <td><strong>Tổng tiền thuê</strong></td>
                                    <td><strong>Tổng tiền đặt cọc</strong></td>
                                    <td><strong>Tổng tiền phạt</strong></td>
                                    <td><strong>Chức năng</strong></td>
                                </tr>
                            </tfoot>
                            <tbody>
                                @for (int i = 0; i < Model.Count; i++)
                                {
                                    <tr>
                                        <td>@Model[i].DateRent</td>
                                        <td>@Model[i].ID</td>
                                        <td>@Model[i].TotalRentCost</td>
                                        <td>@Model[i].TotalDeposit</td>
                                        <td>@Model[i].TotalPenalty</td>
                                        <td><a class="link-property" data-toggle="modal" data-target="#DetailRent-@Model[i].ID" href=""><i class="fa fa-newspaper-o" style="font-size:20px;"></i></a></td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                        @foreach (var item in Model)
                        {
                            <div class="modal fade" id="DetailRent-@item.ID" role="dialog">
                                <div class="modal-dialog-scrollable">

                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Chi tiết thuê</h4>
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="table-responsive">
                                                <table class="table table-bordered" width="100%" cellspacing="0">
                                                    <thead>
                                                        <tr>
                                                            <th><strong>Name</strong></th>
                                                            <th><strong>Quantity</strong></th>
                                                            <th><strong>DateExpire</strong></th>
                                                            <th><strong>RentMoney</strong></th>
                                                            <th><strong>Deposit</strong></th>
                                                            <th><strong>TotalRentMoney</strong></th>
                                                            <th><strong>TotalDeposit</strong></th>
                                                        </tr>
                                                    </thead>
                                                    <tfoot>
                                                        <tr>
                                                            <th><strong>Name</strong></th>
                                                            <th><strong>Quantity</strong></th>
                                                            <th><strong>DateExpire</strong></th>
                                                            <th><strong>RentMoney</strong></th>
                                                            <th><strong>Deposit</strong></th>
                                                            <th><strong>TotalRentMoney</strong></th>
                                                            <th><strong>TotalDeposit</strong></th>
                                                        </tr>
                                                    </tfoot>
                                                    <tbody>
                                                        @{var listtemp = listdetailofrent.Where(x => x.RentID == item.ID).ToList();}
                                                        @for (int j = 0; j < listtemp.Count; j++)
                                                        {
                                                            <tr>
                                                                <td>@listtemp[j].Name</td>
                                                                <td>@listtemp[j].Quantity</td>
                                                                <td>@listtemp[j].DateExpire</td>
                                                                <td>@listtemp[j].RentMoney</td>
                                                                <td>@listtemp[j].Deposit</td>
                                                                <td>@listtemp[j].TotalRentMoney</td>
                                                                <td>@listtemp[j].TotalDeposit</td>
                                                            </tr>

                                                        }
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">OK</button>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        }
                    </div>
                }
                else
                {
                    <h5 style="text-align:center;">Không có đăng ký</h5>
                }
            </div>
        </div>
    </div>
</section>

